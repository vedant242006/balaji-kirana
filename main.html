<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Grocery Credit Manager</title>
  <link rel="stylesheet" href="styleshop.css" />
</head>
<body>
  <div id="toastContainer" style="position:fixed; bottom:20px; right:20px; z-index:1000;"></div>
  <div id="google_translate_element" style="text-align: right; margin-bottom: 10px;"></div>

  <div class="card">
    <button onclick="window.location.href='admin.html'">Go to Admin Site</button>
  </div>

  <div class="card">
    <h3>🗃️ Backup & Restore Data</h3>
    <button onclick="backupData()">💾 Backup Data</button>
    <input type="file" accept="application/json" onchange="restoreData(event)" />
  </div>

  <div class="container">
    <h1>🛒 Grocery Customer Credit Manager</h1>
    <div class="card">
      <input type="text" id="customerName" placeholder="Enter customer name" oninput="validateAddCustomer()" />
      <input type="text" id="customerPhone" placeholder="Enter phone number" oninput="validateAddCustomer()" />
      <button id="addCustomerBtn" onclick="addCustomer()" disabled>Add Customer</button>
      <select id="customerList"></select>
      <button onclick="retrieveCustomer()">Retrieve Info</button>
      <div style="text-align: right; margin-bottom: 20px;">
        <button onclick="saveAllCustomerData()">💾 Save Customer Changes</button>
      </div>
    </div>
    <div id="customersContainer"></div>
    <div id="retrievedContainer"></div>
  

    <div id="itemEntryModal" style="display:none">
      <h3 id="itemModalTitle">Add Credit Item</h3>
      <select id="predefinedItem" onchange="onItemSelect()">
        <option value="">Select Item</option>
        <option value="Rice">Rice</option>
        <option value="Sugar">Sugar</option>
        <option value="Milk">Milk</option>
        <option value="Oil">Oil</option>
        <option value="Salt">Salt</option>
      </select>
      <input type="text" id="itemName" placeholder="Item name" />
      <input type="number" id="itemQuantity" placeholder="Quantity" />
      <select id="unitType">
        <option value="kg">kg</option>
        <option value="g">g</option>
        <option value="litre">litre</option>
        <option value="ml">ml</option>
        <option value="piece">piece</option>
      </select>
      <input type="number" id="itemPrice" placeholder="Price per unit" />
      <button onclick="saveCreditItem()">Save Item</button>
      <button onclick="closeItemModal()">Cancel</button>
    </div>

    <div id="paymentEntryModal" style="display:none">
      <h3 id="paymentModalTitle">Add Payment Entry</h3>
      <input type="number" id="paymentAmount" placeholder="Enter amount paid" />
      <button onclick="savePaymentEntry()">Save Payment</button>
      <button onclick="closePaymentModal()">Cancel</button>
    </div>

    <div class="card">
      <h3>📤 Send Receipt to Customer</h3>
      <button onclick="sendReceiptToWhatsApp()">Send via WhatsApp</button>
      <button onclick="downloadReceiptPDF()">Download PDF</button>
    </div>
  </div>

  <script src="predefine.js"></script>
  <script src="shopjsp.js"></script>
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,mr',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>